(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(3),r=n.n(i),c=(n(14),n(1)),l=n(4),s=n(5),m=n(7),u=n(6),p=n(8);function d(e){var t=e.movie;return a.a.createElement("div",{style:g.container},a.a.createElement("img",{src:t.image,style:g.image,alt:"NA"}),a.a.createElement("span",{style:g.title},t.title))}var g={container:{display:"flex",flexDirection:"column",margin:"10px",padding:"10px",backgroundColor:"#36404a",borderRadius:"5px"},image:{marginBottom:"5px"},title:{fontSize:"0.9rem"}};function v(e){var t=e.movieGroup,n=t.groupName,o=t.movies;return a.a.createElement("div",{style:f.container},a.a.createElement("div",{style:f.groupNameContainer},a.a.createElement("span",null,n)),a.a.createElement("div",{style:f.moviesContainer},o.map((function(e,t){return a.a.createElement(d,{key:t,movie:e})}))))}var f={container:{maxWidth:"100%",width:"100%",border:"3px solid white",borderRadius:"5px",marginBottom:"20px"},groupNameContainer:{margin:"10px 0px",fontSize:"2rem"},moviesContainer:{display:"flex",overflowX:"auto",paddingBottom:"20px"}},h=(n(15),"https://cdn-discover.hooq.tv/v1.2/discover/feed?region=ID&page=[page]&perPage=20"),x="Multi-Title-Manual-Curation",y="POSTER",E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleScroll=function(e){var t=document.documentElement.scrollHeight,o=document.documentElement.scrollTop,a=o/t;console.log("scrollHeight: ".concat(t,", scrollTop: ").concat(o,", percent: ").concat(a)),a>.8&&(console.log("go load new page"),n.retrieveData())},n.retrieveData=function(){fetch(h.replace("[page]",n.state.page+1),{method:"GET"}).then((function(e){return e.json()})).then((function(e){n.extractFeed(e)})).catch((function(e){console.log("Request failed",e)}))},n.extractFeed=function(e){var t=e.data.filter((function(e){return e.type===x})).map((function(e){return{groupName:e.row_name,movies:e.data.map((function(e){var t=e.images.filter((function(e){return e.type===y}))[0],n=t?t.url:"";return{title:e.title,image:n}}))}})),o=[].concat(Object(c.a)(n.state.movieGroups),Object(c.a)(t));n.setState({movieGroups:o})},n.state={page:1,paegLoading:!1,movieGroups:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),console.log("componentDidMount page: "+this.state.page),this.retrieveData()}},{key:"componentDidUpdate",value:function(e,t){console.log("componentDidUpdate page: "+this.state.page),this.state.page!==t.page&&this.retrieveData()}},{key:"render",value:function(){return a.a.createElement("div",{style:w.container,onScroll:this.handleScroll},this.state.movieGroups.map((function(e,t){return a.a.createElement(v,{key:t,movieGroup:e})})))}}]),t}(a.a.Component),w={container:{textAlign:"center",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",color:"white",padding:"20px"}},b=E;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.5072241e.chunk.js.map